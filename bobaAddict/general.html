<!DOCTYPE html>
<html lang="en">

<!--Updated 3/8/2020-->

<head>
  <!-- Basic Page Needs -->
  <meta charset="utf-8">
  <title>Food Addict</title>
  <meta name="description" content="Capital One Summit Project">
  <meta name="author" content="Phi Henry Nguyen">

  <!--Bootstrap and Modal Scripts-->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"
    integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"
    integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
    crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

  <!--Javascript File with Search Functions-->
  <script src="js/functionsGeneral.js" type="text/javascript"></script>

  <!-- FONTS-->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Knewave|Pacifico&display=swap" rel="stylesheet">

  <!--Bootstrap CSS-->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">

  <!--Custom CSS-->
  <link rel="stylesheet" href="css/extraStyle.css">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/foodMarker.png">


</head>

<body onload="getLocation();getLoc()">

  <!-- Header -->
  <header class="masthead2">
    <button id="switch" type="button" class="btn switch"> <a href="index.html">
        Looking for boba?
    </button></a>
    <div class="container d-flex align-items-center">
      <div class="mx-auto text-center">
        <br>
        <h1 class="text-white mx-auto mt-2"> <strong>Food Addict</strong></h1>
        <h2 class="text-white mx-auto mt-2 mb-5">The fastest way to find your next meal.</h2>
        <div class="container">
          <input id="searchInput" type="text" placeholder="Search.." class="form-control mr-sm-2">
          <script>
            $("#searchInput").keyup(function (event) {
              if (event.keyCode === 13) {
                $("#search").click();
              }
            });
          </script>
        </div>
        <br>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#infoModal">
          More Info
        </button>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
          Search Preferences
        </button>
        <button id="search" type="button" class="btn btn-secondary" onclick="searchClicked()">
          Find Food!
        </button>
      </div>
    </div>
  </header>

  <!-- Button trigger Info Modal -->
  <div class="container">
    <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="infoModalLabel">More Info</h5>
            <br>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="container" id="modalInfo">
            <h6>
              Need a faster way to find great restaurants near you? With this handy dandy web app, you'll always know
              the best restaurants near you! Change the search preferences to find exactly what you're looking for! Make
              sure that your location is on for optimal use.
              <br><br>
              Looking for boba? Click on the button in the corner to switch to <a href="index.html">Boba Addict</a>!

              <br><br><a href="https://github.com/phi-h-nguyen/phi-h-nguyen.github.io" target="_blank">
                Created by Phi Henry Nguyen for Capital One.</a>
            </h6>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Exit</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Button Trigger Search Preferences Modal -->
  <div class="container">
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Search Preferences</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            Distance:
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
              <label class="btn btn-primary">
                <input type="radio" name="distance" id="one" value="1600" autocomplete="off"> 1 mile
              </label>
              <label class="btn btn-primary">
                <input type="radio" name="distance" id="lessFive" value="8000" autocomplete="off"> 5 miles
              </label>
              <label class="btn btn-primary active">
                <input type="radio" name="distance" id="moreFive" value="40000" autocomplete="off" checked> 5+ miles
              </label>
            </div>
          </div>
          <div class="modal-body">
            Price:
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
              <label class="btn btn-primary">
                <input type="radio" name="price" id="oneDollar" value="1" autocomplete="off"> $
              </label>
              <label class="btn btn-primary">
                <input type="radio" name="price" id="twoDollar" value="1,2" autocomplete="off"> $$
              </label>
              <label class="btn btn-primary active">
                <input type="radio" name="price" id="threeDollar" value="1,2,3" autocomplete="off" checked> $$$
              </label>
            </div>
          </div>
          <div class="modal-body">
            Open Now:
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
              <label class="btn btn-primary">
                <input type="radio" name="open" id="openTrue" value="true" autocomplete="off"> Yes
              </label>
              <label class="btn btn-primary active">
                <input type="radio" name="open" id="openFalse" value="false" autocomplete="on" checked> No
              </label>
            </div>
          </div>
          <div class="modal-body">
            Location:
            <input id="locationInput" type="text" placeholder="Leave blank for current location.."
              class="form-control mr-sm-2" style="width:80%;display:inline-block">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Save changes</button>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!--Search Feed-->
  <section class="feed" id="feed">
    <div class="feed-heading">
      <h3 id="restTitle">
        <a id="yelpLink"><strong>Search for a restaurant!</strong></a>
      </h3>
      <p id="address"></p>
      <p id="details"></p>
    </div>
    <div class="full-feed">
      <div id="googleMap" style="width:80%;height:500px;margin:5%;margin-bottom:0;margin-top:0"></div>

      <img id="restImage" class="sample-image" src="images/favicon.png" alt="Picture of restaurant">
    </div>

    <!--Script for Geolocation-->
    <script>
      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition);
        } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
        }
      }
      function showPosition(position) {
        longitude = position.coords.longitude;
        latitude = position.coords.latitude;
      }
      function myMap(restLat, restLng, userLat, userLng) {
        var myCenter = { lat: userLat, lng: userLng };
        var mapProp = {
          center: new google.maps.LatLng(myCenter),
          zoom: 13,
        };
        var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
        var marker = new google.maps.Marker({ position: myCenter });
        marker.setMap(map);

        var restCenter = { lat: restLat, lng: restLng };
        var restMarker = new google.maps.Marker({ position: restCenter, icon: "images/foodMarker.png" });
        restMarker.setMap(map);
        var bounds = new google.maps.LatLngBounds();
        bounds.extend(restCenter);
        bounds.extend(myCenter);
        map.fitBounds(bounds);
        map.setZoom(map.getZoom() - 1);
      }
    </script>

    <!--Google Map-->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcRItnQtJjnPwxKKDRaiQhjoh9DkGFnBs&callback=myMap"></script>

  </section>


  <!--Naviagation Buttons-->
  <div class="feed-footer">
    <h5 id="navButtons"></h5>
    <button type="button" class="btn btn-primary" onclick="prevSearch()">
      Prev
    </button>
    <button type="button" class="btn btn-primary" onclick="nextSearch()">
      Next
    </button>
  </div>


  <!--Footer-->
  <footer class="bg-black  text-center text-black-50">
    <div class="container">
      <a href="https://github.com/phi-h-nguyen/phi-h-nguyen.github.io" target="_blank"> by Phi Henry Nguyen 2020 </a>
    </div>
    <div class="container" id="yelpFooter">
      Powered by <a href="https://www.yelp.com/fusion" target="_blank" style="color:#af0606">Yelp's Fusion API </a>
    </div> <br>
  </footer>

</body>

</html>